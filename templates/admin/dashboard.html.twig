{% extends '@EasyAdmin/layout.html.twig' %}

{% block main %}
	<h1>Dashboard</h1>

	<h2>Teams</h2>
	<form method="get" action="{{ path('admin') }}">
		<div class="form-group">
			<label for="seasonSelect">Selecciona una temporada a mostrar</label>
			<select class="form-control" id="seasonSelect" name="season_id" onchange="this.form.submit()">
				<option value="">Temporada...</option>
				{% for season in seasons %}
					<option value="{{ season.id }}" {% if season.id == selectedSeasonId %} selected {% endif %}>
						{{ season.seasonName }}
					</option>
				{% endfor %}
			</select>
		</div>
	</form>

	<div id="teamsContainer" class="row mt-4">
		{% if teams|length > 0 %}
			{% for team in teams %}
				<div class="col-md-4 mb-4">
					<div class="card h-100">
						<img src="/uploads/team_logos/{{ team.urlTeamLogo }}" class="card-img-top" alt="{{ team.fullNameTeam }}" style="object-fit: cover; height: 200px;">
						<div class="card-body d-flex flex-column">
							<h5 class="card-title">
								<a href="{{ teamUrls[team.id] }}">{{ team.fullNameTeam }}</a>
							</h5>
							<p class="card-text">
								<strong>Season:</strong>
								{{ team.seasonId.seasonName }}</p>
						</div>
					</div>
				</div>
			{% endfor %}
		{% else %}
			<div class="col-md-12">
				<div class="alert alert-warning">No hay equipos dados de alta para esta temporada.</div>
			</div>
		{% endif %}
	</div>
{% endblock %}
